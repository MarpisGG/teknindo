import{r as n,j as e,a as b,S as j}from"./app-DvoQObqN.js";import{S as h}from"./sweetalert2.esm.all-BQIkj5Wb.js";const w=()=>{const[d,l]=n.useState({id:0,video:""}),[c,m]=n.useState({}),[i,u]=n.useState(!1),[x,p]=n.useState(null),v=t=>{const{name:s,files:a}=t.target;if(a&&a.length>0){const r=a[0];l(o=>({...o,[s]:r})),s==="video"&&p(URL.createObjectURL(r))}},g=async t=>{var a,r;t.preventDefault(),u(!0),m({});const s=new FormData;d.video&&s.append("video",d.video);try{await b.post("/admin/landing-videos",s,{headers:{"Content-Type":"multipart/form-data"}}),h.fire("Success","Landing video created successfully","success"),j.get("/admin/landing-videos")}catch(o){(r=(a=o.response)==null?void 0:a.data)!=null&&r.errors?m(o.response.data.errors):h.fire("Error","Something went wrong","error")}finally{u(!1)}},f=()=>{window.location.href="/admin/landing-videos"};return e.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-8",children:[e.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Create Landing Video"}),e.jsx("button",{onClick:f,className:"mb-6 text-sm text-blue-600 hover:underline",children:"â† Back to Landing Video List"}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Video"}),e.jsxs("div",{className:"flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed bg-gray-50 p-6 hover:border-blue-400",onClick:()=>{var t;return(t=document.getElementById("video-input"))==null?void 0:t.click()},onDragOver:t=>t.preventDefault(),onDrop:t=>{if(t.preventDefault(),t.dataTransfer.files.length>0){const s=t.dataTransfer.files[0];l(a=>({...a,video:s})),p(URL.createObjectURL(s))}},children:[e.jsx("input",{id:"video-input",type:"file",name:"video",accept:"video/*",onChange:v,className:"hidden"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click or drag & drop a video here"}),e.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"MP4, AVI, MOV, WMV up to 50MB"}),x&&e.jsx("video",{src:x,controls:!0,className:"mt-4 h-40 rounded shadow"})]}),c.video&&e.jsx("div",{className:"text-sm text-red-600",children:c.video})]}),e.jsxs("div",{className:"flex justify-start space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:f,className:"rounded-md bg-gray-300 px-4 py-2 text-gray-800 hover:bg-gray-400",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i,className:`px-4 py-2 ${i?"bg-blue-300":"bg-blue-600 hover:bg-blue-700"} rounded-md text-white`,children:i?"Uploading...":"Upload Video"})]})]})]})};export{w as default};

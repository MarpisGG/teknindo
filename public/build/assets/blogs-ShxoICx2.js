import{r as l,j as e,L as f,$ as j,a as y}from"./app-CJho9Cej.js";import{F as w}from"./floatingquickaction-w3aOjbuR.js";import{N,F as v}from"./navbar-CuiYKAX8.js";import{m as o}from"./proxy-DWipM9lE.js";import{U as b,H as C,E as k,C as F}from"./user-Da40AJnV.js";import"./index-DBsnt4am.js";import"./map-pin-DwKQq2T3.js";import"./createLucideIcon-B9xLQAxJ.js";import"./move-right-BRIWbyul.js";import"./Teknindo Awal-x7ZWJMXO.js";import"./x-CUlXMEmB.js";import"./chevron-right-BF-0NuRg.js";const R=()=>{const[d,h]=l.useState([]),[c,_]=l.useState(""),[L,S]=l.useState(""),[u,m]=l.useState(!1),[a,g]=l.useState(1),[i,p]=l.useState(1),n=async(s=1,r="")=>{m(!0);try{const t=await y.get(`/api/blogs?page=${s}&search=${r}`);h(t.data.data),g(t.data.current_page),p(t.data.last_page)}catch(t){console.error("Error fetching blogs:",t)}finally{m(!1)}};return l.useEffect(()=>{const s=setTimeout(()=>{n(1,c)},300);return()=>clearTimeout(s)},[c]),d.filter(s=>s.title.toLowerCase().includes(c.trim().toLowerCase())),l.useEffect(()=>{n()},[]),e.jsxs(e.Fragment,{children:[e.jsx(f,{title:"Blogs"}),e.jsx("div",{className:"mb-16",children:e.jsx(N,{})}),e.jsx("div",{className:"mx-auto flex hidden max-w-6xl justify-center md:block",children:e.jsx("nav",{className:"mb-6 w-full pt-4 text-sm text-black",children:e.jsxs("ol",{className:"flex flex-wrap items-center space-x-2",children:[e.jsx("li",{children:e.jsx("a",{href:"/",className:"hover:underline",children:"Home"})}),e.jsx("li",{children:e.jsx("span",{className:"mx-1",children:"›"})}),e.jsx("li",{children:e.jsx("a",{href:"/blogs",className:"font-bold hover:underline",children:"Blogs"})})]})})}),e.jsx("div",{className:"flex w-full items-center justify-center dark:bg-[#232326]",children:e.jsx("div",{className:"mx-auto px-4",children:e.jsxs("div",{className:"container mx-auto rounded px-4 py-8",children:[e.jsx(o.h1,{className:"mb-6 text-center text-3xl font-bold text-gray-900 dark:text-white",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"Insight & Articles"}),e.jsx(o.p,{className:"mx-auto mb-4 max-w-2xl text-center text-lg dark:text-gray-400",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:"Discover useful tips, company updates, and industry insights to help you make smarter decisions for your business."}),u?e.jsx("div",{className:"grid max-w-[71rem] grid-cols-1 gap-8 py-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((s,r)=>e.jsxs("div",{className:"mx-auto flex w-full max-w-xl animate-pulse flex-col overflow-hidden rounded-lg bg-white shadow-lg",children:[e.jsx("div",{className:"h-48 w-full bg-gray-200 sm:h-56 md:h-64"}),e.jsxs("div",{className:"flex flex-1 flex-col p-4 sm:p-6",children:[e.jsx("div",{className:"mb-4 h-5 w-3/4 rounded bg-gray-200"}),e.jsx("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2",children:[...Array(4)].map((t,x)=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-4 w-4 rounded bg-gray-200"}),e.jsx("div",{className:"h-4 w-12 rounded bg-gray-200"})]},x))})]})]},r))}):e.jsx("div",{className:"grid max-w-[71rem] grid-cols-1 gap-8 py-4 md:grid-cols-2 lg:grid-cols-3",children:d.filter(s=>s.title.toLowerCase().includes(c.toLowerCase())).sort((s,r)=>{const t=s.created_at?new Date(s.created_at).getTime():0;return(r.created_at?new Date(r.created_at).getTime():0)-t}).map((s,r)=>{var t;return e.jsx(j,{href:`/blogs/${s.slug??s.id}`,children:e.jsxs(o.div,{className:"mx-auto flex w-full max-w-xl flex-col overflow-hidden rounded-lg bg-white shadow-lg transition duration-300 hover:scale-[1.02] hover:text-[#FCC200] hover:shadow-xl",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:r*.05,duration:.5},viewport:{once:!0},children:[e.jsx("div",{className:"flex h-48 w-full items-center justify-center bg-gray-100 sm:h-56 md:h-64",children:s.thumbnail?e.jsx("img",{src:`/storage/${s.thumbnail}`,alt:s.title,className:"h-full w-full max-w-full object-fill"}):e.jsx("span",{className:"text-sm text-gray-400",children:"No Image Available"})}),e.jsxs("div",{className:"flex flex-1 flex-col p-4 sm:p-6",children:[e.jsx("p",{className:"mb-2 text-center text-lg font-semibold",children:s.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-xs text-gray-500 sm:text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(b,{className:"h-4 w-4"})," ",((t=s.user)==null?void 0:t.name)||"Unknown"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{className:"h-4 w-4"})," ",s.likes||0]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(k,{className:"h-4 w-4"})," ",s.views||0]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(F,{className:"h-4 w-4"})," ",s.created_at?new Date(s.created_at).toLocaleDateString():""]})]})]})]},s.id)},s.id)})})]})})}),e.jsx("div",{className:"my-8 flex w-full justify-center",children:e.jsxs("nav",{className:"inline-flex items-center gap-1 rounded-lg bg-white p-2 shadow-md",children:[e.jsx("button",{onClick:()=>n(a-1),disabled:a===1,className:`rounded-l-md px-3 py-2 text-sm font-medium transition-colors ${a===1?"pointer-events-none text-gray-300":"text-[#FCC200] hover:bg-[#FCC200]/10"}`,children:"«"}),Array.from({length:i},(s,r)=>{const t=r+1;return t===1||t===i||Math.abs(a-t)<=1?e.jsx("button",{onClick:()=>n(t),className:`mx-0.5 rounded px-3 py-2 text-sm font-medium transition-colors ${a===t?"bg-[#FCC200] text-white shadow":"text-gray-700 hover:bg-[#FCC200]/30"}`,children:t},t):t===a-2&&t>1||t===a+2&&t<i?e.jsx("span",{className:"px-2 text-gray-400",children:"..."},t):null}),e.jsx("button",{onClick:()=>n(a+1),disabled:a===i,className:`rounded-r-md px-3 py-2 text-sm font-medium transition-colors ${a===i?"pointer-events-none text-gray-300":"text-[#FCC200] hover:bg-[#FCC200]/10"}`,children:"»"})]})}),e.jsx(w,{}),e.jsx(v,{})]})};export{R as default};

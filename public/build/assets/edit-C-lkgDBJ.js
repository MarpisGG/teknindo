import{K as x,m as p,r as b,j as e,S as g}from"./app-BBpXaxM-.js";const j=()=>{const{user:a,flash:r,roles:m=[],userRoles:h=[]}=x().props,{data:t,setData:o,put:i,processing:n,errors:l}=p({id:(a==null?void 0:a.id)||0,name:(a==null?void 0:a.name)||"",email:(a==null?void 0:a.email)||"",password:"",password_confirmation:"",roles:(a==null?void 0:a.roles)||[]});b.useEffect(()=>{r!=null&&r.success&&alert(r.success),r!=null&&r.error&&alert(r.error)},[r]);const c=s=>{s.preventDefault(),i(`/admin/users/${t.id}`,{onSuccess:()=>{o({id:0,name:"",email:"",password:"",password_confirmation:"",roles:[]})},onError:u=>{console.error("Error updating user:",u)}})},d=()=>{g.get("/admin/users")};return e.jsxs("div",{className:"max-w-xl w-full mx-auto p-4 sm:p-8",children:[e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Edit User"}),e.jsx("button",{onClick:d,className:"text-blue-600 hover:underline text-sm",children:"← Back to Users"})]}),e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block font-medium text-gray-700 mb-1",children:"Name"}),e.jsx("input",{type:"text",name:"name",value:t.name,onChange:s=>o("name",s.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),l.name&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:t.email,onChange:s=>o("email",s.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),l.email&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{type:"password",name:"password",value:t.password,onChange:s=>o("password",s.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),l.password&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password_confirmation",className:"block font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsx("input",{type:"password",name:"password_confirmation",value:t.password_confirmation,onChange:s=>o("password_confirmation",s.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Role"}),e.jsxs("select",{value:t.roles[0]||"",onChange:s=>o("roles",[s.target.value]),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Select Role"}),m.map(s=>e.jsx("option",{value:s.name,children:s.name},s.id))]}),l.roles&&e.jsx("div",{className:"text-red-500 text-sm",children:l.roles})]}),e.jsxs("div",{className:"flex justify-start gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-md",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:`px-4 py-2 ${n?"bg-blue-300":"bg-blue-600 hover:bg-blue-700"} text-white rounded-md`,children:n?"Updating...":"Update User"})]})]})]})};export{j as default};

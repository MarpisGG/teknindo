import{K as g,U as c,j as e,$ as x,a as j,S as f}from"./app-ChAPa0aL.js";import{R as d}from"./index-VD6l-5m0.js";import{S as b}from"./sweetalert2.esm.all-BQIkj5Wb.js";const w=()=>{const{flash:r}=g().props,[l,i]=c.useState({id:0,title:"",slug:"",division:"",location:"",type:"",salary:"",job_desc:"",benefit:"",requirements:""}),[s,m]=c.useState({}),[o,u]=c.useState(!1),n=t=>{const{name:a,value:h}=t.target;i({...l,[a]:h})},p=t=>{t.preventDefault(),u(!0),j.post("/jobs",l).then(a=>{b.fire({title:"Success",text:"Job created successfully!",icon:"success"}),i({id:0,title:"",slug:"",division:"",location:"",type:"",salary:"",job_desc:"",benefit:"",requirements:""}),m({})}).catch(a=>{a.response&&a.response.data.errors?m(a.response.data.errors):b.fire({title:"Error",text:"Failed to create job.",icon:"error"})}).finally(()=>{u(!1),f.get("/admin/jobs")})};return e.jsx("div",{className:"flex min-h-screen flex-col items-center bg-gray-100 px-4 py-10",children:e.jsxs("div",{className:"w-full max-w-2xl rounded-lg bg-white p-6 shadow-md",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Create Role"}),e.jsx(x,{href:"/admin/jobs",className:"text-blue-600 hover:underline",children:"Back to Job List"})]}),(r==null?void 0:r.success)&&e.jsx("div",{className:"mb-4 rounded bg-green-100 p-4 text-green-800",children:r.success}),(r==null?void 0:r.error)&&e.jsx("div",{className:"mb-4 rounded bg-red-100 p-4 text-red-800",children:r.error}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Title"}),e.jsx("input",{type:"text",name:"title",value:l.title,onChange:n,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring focus:ring-blue-200"}),s.title&&e.jsx("p",{className:"text-sm text-red-500",children:s.title})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Division"}),e.jsx("input",{type:"text",name:"division",value:l.division,onChange:n,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring focus:ring-blue-200"}),s.division&&e.jsx("p",{className:"text-sm text-red-500",children:s.division})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Location"}),e.jsx("input",{type:"text",name:"location",value:l.location,onChange:n,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring focus:ring-blue-200"}),s.location&&e.jsx("p",{className:"text-sm text-red-500",children:s.location})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Type"}),e.jsxs("select",{name:"type",value:l.type,onChange:n,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring focus:ring-blue-200",children:[e.jsx("option",{value:"",children:"Select Job Type"}),e.jsx("option",{value:"Full-Time",children:"Full-Time"}),e.jsx("option",{value:"Part-Time",children:"Part-Time"}),e.jsx("option",{value:"Contract",children:"Contract"}),e.jsx("option",{value:"Internship",children:"Internship"})]}),s.type&&e.jsx("p",{className:"text-sm text-red-500",children:s.type})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Salary"}),e.jsx("input",{type:"text",name:"salary",value:l.salary,onChange:n,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring focus:ring-blue-200"}),s.salary&&e.jsx("p",{className:"text-sm text-red-500",children:s.salary})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Job Description"}),e.jsx(d,{theme:"snow",value:l.job_desc,onChange:t=>i({...l,job_desc:t}),modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]]},style:{height:"200px",marginBottom:"48px"},className:"w-full rounded-lg focus:ring focus:ring-blue-200"}),s.job_desc&&e.jsx("p",{className:"text-sm text-red-500",children:s.job_desc})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Requirements"}),e.jsx(d,{theme:"snow",value:l.requirements,onChange:t=>i({...l,requirements:t}),modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]]},style:{height:"200px",marginBottom:"48px"},className:"w-full rounded-lg focus:ring focus:ring-blue-200"}),s.requirements&&e.jsx("p",{className:"text-sm text-red-500",children:s.requirements})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Job Benefits"}),e.jsx(d,{theme:"snow",value:l.benefit,onChange:t=>i({...l,benefit:t}),modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]]},style:{height:"200px",marginBottom:"48px"},className:"w-full rounded-lg focus:ring focus:ring-blue-200"}),s.benefit&&e.jsx("p",{className:"text-sm text-red-500",children:s.benefit})]}),e.jsx("button",{type:"submit",disabled:o,className:`rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 ${o?"cursor-not-allowed opacity-50":""}`,children:o?"Creating...":"Create Job"}),e.jsx(x,{href:"/admin/jobs",className:"mt-4 ml-4 rounded bg-gray-300 px-4 py-2 text-gray-800 hover:bg-gray-400",children:"Cancel"})]})]})})};export{w as default};

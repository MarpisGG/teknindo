import{K as f,U as r,j as e,$ as a,S as j}from"./app-CyEQiSpV.js";import{S as l}from"./sweetalert2.esm.all-BQIkj5Wb.js";import g from"./navbar-admin-ZGGzkSpc.js";const S=()=>{const{users:d}=f().props,[c,i]=r.useState(""),x=s=>{l.fire({title:"Are you sure?",text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!"}).then(t=>{t.isConfirmed&&j.delete(`/admin/users/${s}`,{onSuccess:()=>{l.fire("Deleted!","User has been deleted.","success")},onError:()=>{l.fire("Error!","There was an error deleting the user.","error")}})})},m=(s,t)=>{const[b,u]=r.useState(s);return r.useEffect(()=>{const p=setTimeout(()=>{u(s)},t);return()=>{clearTimeout(p)}},[s,t]),b},h=s=>{i(s.target.value.toLowerCase())},n=m(c,300),o=d.data.filter(s=>s.name.toLowerCase().includes(n)||s.email.toLowerCase().includes(n));return e.jsxs("div",{className:"mx-auto max-w-6xl p-4 sm:p-6",children:[e.jsx(g,{}),e.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 md:text-3xl",children:"User Management"}),e.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:items-center",children:[e.jsx("input",{type:"text",onChange:h,placeholder:"Search users...",className:"w-full rounded-lg border border-black px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none sm:w-auto"}),e.jsx(a,{href:"/admin/dashboard",className:"rounded-lg border border-blue-600 px-4 py-2 text-center text-sm text-blue-600 hover:text-blue-800 sm:text-base",children:"← Back to Dashboard"}),e.jsx(a,{href:"/admin/users/create",className:"rounded-lg bg-blue-600 px-4 py-2 text-center text-sm text-white shadow hover:bg-blue-700 sm:text-base",children:"+ Create User"})]})]}),e.jsx("div",{className:"overflow-x-auto rounded-lg border bg-white shadow",children:e.jsxs("table",{className:"min-w-full text-sm text-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 text-left",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-b px-4 py-3",children:"Name"}),e.jsx("th",{className:"border-b px-4 py-3",children:"Email"}),e.jsx("th",{className:"border-b px-4 py-3",children:"Roles"}),e.jsx("th",{className:"border-b px-4 py-3",children:"Actions"})]})}),e.jsx("tbody",{children:o.length?o.map((s,t)=>e.jsxs("tr",{className:t%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"border-b px-4 py-2",children:s.name}),e.jsx("td",{className:"border-b px-4 py-2",children:s.email}),e.jsx("td",{className:"border-b px-4 py-2",children:s.roles.join(", ")}),e.jsxs("td",{className:"space-x-2 border-b px-4 py-2 whitespace-nowrap",children:[e.jsx(a,{href:`/admin/users/${s.id}/edit`,className:"inline-block rounded bg-yellow-400 px-3 py-1 text-white hover:bg-yellow-500",children:"Edit"}),e.jsx("button",{onClick:()=>x(s.id),className:"inline-block rounded bg-red-500 px-3 py-1 text-white hover:bg-red-600",children:"Delete"})]})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-gray-500",children:"No users found."})})})]})})]})};export{S as default};

import{K as f,r as c,j as e,S as x,a as y}from"./app-C-sY5DTH.js";import{S as p}from"./sweetalert2.esm.all-BQIkj5Wb.js";const C=()=>{const{auth:j,category:g}=f().props,[s,h]=c.useState(g),[t,o]=c.useState({}),[i,d]=c.useState(!1),m=l=>{const{name:a,value:r}=l.target;h(n=>({...n,[a]:r}))},u=()=>{x.get("/admin/categories")},b=l=>{l.preventDefault(),d(!0),o({}),y.put(`/categories/${s.id}`,{name:s.name,description:s.description}).then(()=>{p.fire("Success","Category updated successfully.","success")}).catch(a=>{var r,n;(n=(r=a.response)==null?void 0:r.data)!=null&&n.errors?o(a.response.data.errors):p.fire("Error","An error occurred while updating the category.","error")}).finally(()=>{d(!1),x.get("/admin/categories")})};return e.jsx("div",{className:"min-h-screen bg-gray-100 py-10 px-4 flex flex-col items-center",children:e.jsxs("div",{className:"w-full max-w-2xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Edit Category"}),e.jsx("button",{onClick:u,className:"text-blue-600 hover:underline text-sm",children:"‚Üê Back to Categories"})]}),e.jsxs("form",{onSubmit:b,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block font-medium mb-1 text-gray-700",children:"Name"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200"}),t.name&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:t.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block font-medium mb-1 text-gray-700",children:"Description"}),e.jsx("textarea",{name:"description",value:s.description,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200"}),t.description&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:t.description})]}),e.jsxs("div",{className:"flex justify-start space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:u,className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-md",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i,className:`px-4 py-2 ${i?"bg-blue-300":"bg-blue-600 hover:bg-blue-700"} text-white rounded-md`,children:i?"Updating...":"Update Category"})]})]})]})})};export{C as default};

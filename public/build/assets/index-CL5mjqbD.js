import{K as b,U as o,j as e,$ as f,a as j}from"./app-DvoQObqN.js";import{A as g}from"./app-layout-_l_m7kHd.js";import{S as a}from"./sweetalert2.esm.all-BQIkj5Wb.js";import"./button-stegLSb4.js";import"./utils-jAU0Cazi.js";import"./index-DV_4sKV-.js";import"./index-ChHY5ttA.js";import"./index-DVf58Nsc.js";import"./x-BMuqeLrP.js";import"./createLucideIcon-CyC0Yr31.js";import"./message-circle-D08unt-G.js";import"./mail-BjEF2fn2.js";import"./map-pin-CJa7bal8.js";import"./star-BBMbswfq.js";import"./chevron-right-B05J7WvL.js";const F=()=>{const{subscriptions:n}=b().props,[c,i]=o.useState(""),d=t=>{a.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&j.delete(`/subscriptions/${t}`).then(()=>{a.fire("Deleted!","Subscription deleted.","success"),window.location.reload()}).catch(s=>{a.fire("Error!","Failed to delete the subscription.","error"),console.error(s)})})},m=(t,r)=>{const[s,u]=o.useState(t);return o.useEffect(()=>{const h=setTimeout(()=>u(t),r);return()=>clearTimeout(h)},[t,r]),s},x=t=>{i(t.target.value.toLowerCase())},p=m(c,300),l=n.filter(t=>t.email.toLowerCase().includes(p));return e.jsx(g,{children:e.jsxs("div",{className:"mx-auto max-w-6xl p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 md:text-3xl",children:"Subscription Management"}),e.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:items-center",children:[e.jsx("input",{type:"text",onChange:x,placeholder:"Search by email...",className:"w-full rounded-lg border border-black px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none sm:w-auto"}),e.jsx(f,{href:"/admin/dashboard",className:"rounded-lg border border-blue-600 px-4 py-2 text-center text-sm text-blue-600 hover:text-blue-800 sm:text-base",children:"← Back to Dashboard"})]})]}),e.jsx("div",{className:"overflow-x-auto rounded-lg border bg-white shadow",children:e.jsxs("table",{className:"min-w-full text-sm text-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 text-left",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-b px-4 py-2",children:"Email"}),e.jsx("th",{className:"border-b px-4 py-2",children:"Subscribed At"}),e.jsx("th",{className:"border-b px-4 py-2 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:l.length>0?l.map((t,r)=>e.jsxs("tr",{className:r%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"border-b px-4 py-2",children:t.email}),e.jsx("td",{className:"border-b px-4 py-2",children:new Date(t.created_at).toLocaleString()}),e.jsx("td",{className:"border-b px-4 py-2 text-center",children:e.jsx("button",{onClick:()=>d(t.id),className:"inline-block rounded bg-red-500 px-3 py-1 text-white hover:bg-red-600",children:"Delete"})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-500",children:"No subscriptions found."})})})]})})]})})};export{F as default};

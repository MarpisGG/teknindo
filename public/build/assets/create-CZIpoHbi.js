import{K as y,r as i,j as e,S as g,a as j}from"./app-BK4j1Hew.js";import{S as b}from"./sweetalert2.esm.all-BQIkj5Wb.js";const S=()=>{const{auth:h}=y().props;h.user.id;const[t,c]=i.useState({id:0,name:"",description:""}),[a,d]=i.useState({}),[l,m]=i.useState(!1),[v,N]=i.useState(null),u=o=>{const{name:s,value:r}=o.target;c(n=>({...n,[s]:r}))},x=()=>{g.get("/admin/categories")},f=o=>{o.preventDefault(),m(!0),d({});const s=new FormData;s.append("name",t.name),s.append("description",t.description||""),j.post("/categories",s).then(()=>{b.fire("Success","Blog created successfully.","success"),c({id:0,name:"",description:""})}).catch(r=>{var n,p;(p=(n=r.response)==null?void 0:n.data)!=null&&p.errors?d(r.response.data.errors):b.fire("Error","An error occurred while creating the blog.","error")}).finally(()=>{m(!1),g.get("/admin/categories")})};return e.jsx("div",{className:"min-h-screen bg-gray-100 py-10 px-4 flex flex-col items-center",children:e.jsxs("div",{className:"w-full max-w-2xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Create Categories"}),e.jsx("button",{onClick:x,className:"text-blue-600 hover:underline text-sm",children:"‚Üê Back to Blogs"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block font-medium mb-1 text-gray-700",children:"Name"}),e.jsx("input",{type:"text",name:"name",value:t.name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200"}),a.name&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block font-medium mb-1 text-gray-700",children:"Description"}),e.jsx("textarea",{name:"description",value:t.description,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200"}),a.description&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:a.description})]}),e.jsxs("div",{className:"flex justify-start space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-md",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:l,className:`px-4 py-2 ${l?"bg-blue-300":"bg-blue-600 hover:bg-blue-700"} text-white rounded-md`,children:l?"Creating...":"Create Category"})]})]})]})})};export{S as default};

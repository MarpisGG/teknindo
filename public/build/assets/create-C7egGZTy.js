import{r as o,j as e,a as f,S as g}from"./app-DvoQObqN.js";import{R as j}from"./index-Ks9lelKl.js";import{S as p}from"./sweetalert2.esm.all-BQIkj5Wb.js";const C=()=>{const[a,c]=o.useState({id:0,title:"",description:"",slug:""}),[r,d]=o.useState({}),[l,m]=o.useState(!1),b=t=>{const{name:s,value:i}=t.target;c(n=>({...n,[s]:i}))},h=async t=>{var i,n;t.preventDefault(),m(!0),d({});const s=new FormData;s.append("title",a.title),s.append("description",a.description);try{await f.post("/admin/businesses",s),p.fire("Success","Business created successfully","success"),g.get("/admin/businesses")}catch(x){(n=(i=x.response)==null?void 0:i.data)!=null&&n.errors?d(x.response.data.errors):p.fire("Error","Something went wrong","error")}finally{m(!1)}},u=()=>{window.location.href="/admin/businesses"};return e.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-8",children:[e.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Create Business"}),e.jsx("button",{onClick:u,className:"mb-6 text-sm text-blue-600 hover:underline",children:"← Back to Business List"}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Title"}),e.jsx("input",{type:"text",name:"title",value:a.title,onChange:b,className:"w-full rounded border px-4 py-2"}),r.title&&e.jsx("div",{className:"text-sm text-red-600",children:r.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Description"}),e.jsx(j,{value:a.description,onChange:t=>c(s=>({...s,description:t})),modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]]},className:"bg-white"}),r.description&&e.jsx("div",{className:"text-sm text-red-600",children:r.description})]}),e.jsxs("div",{className:"flex justify-start space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:u,className:"rounded-md bg-gray-300 px-4 py-2 text-gray-800 hover:bg-gray-400",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:l,className:`px-4 py-2 ${l?"bg-blue-300":"bg-blue-600 hover:bg-blue-700"} rounded-md text-white`,children:l?"Creating...":"Create Customer"})]})]})]})};export{C as default};

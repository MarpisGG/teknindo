import{r as i,j as e,a as g,S as b}from"./app-urxCfeUy.js";import{S as f}from"./sweetalert2.esm.all-BQIkj5Wb.js";const N=()=>{const[n,l]=i.useState({id:0,video:""}),[c,m]=i.useState({}),[d,u]=i.useState(!1),[p,x]=i.useState(null),v=s=>{const{name:t,files:a}=s.target;if(a&&a.length>0){const r=a[0];l(o=>({...o,[t]:r})),t==="video"&&x(URL.createObjectURL(r))}},h=async s=>{var a,r;s.preventDefault(),u(!0),m({});const t=new FormData;n.video&&t.append("video",n.video);try{await g.post("/admin/landing-videos",t,{headers:{"Content-Type":"multipart/form-data"}}),f.fire("Success","Landing video created successfully","success"),b.get("/admin/landing-videos")}catch(o){(r=(a=o.response)==null?void 0:a.data)!=null&&r.errors?m(o.response.data.errors):f.fire("Error","Something went wrong","error")}finally{u(!1)}};return e.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-8",children:[e.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Create Landing Video"}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Video"}),e.jsxs("div",{className:"flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed bg-gray-50 p-6 hover:border-blue-400",onClick:()=>{var s;return(s=document.getElementById("video-input"))==null?void 0:s.click()},onDragOver:s=>s.preventDefault(),onDrop:s=>{if(s.preventDefault(),s.dataTransfer.files.length>0){const t=s.dataTransfer.files[0];l(a=>({...a,video:t})),x(URL.createObjectURL(t))}},children:[e.jsx("input",{id:"video-input",type:"file",name:"video",accept:"video/*",onChange:v,className:"hidden"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click or drag & drop a video here"}),e.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"MP4, AVI, MOV, WMV up to 50MB"}),p&&e.jsx("video",{src:p,controls:!0,className:"mt-4 h-40 rounded shadow"})]}),c.video&&e.jsx("div",{className:"text-sm text-red-600",children:c.video})]}),e.jsx("div",{className:"flex justify-start space-x-3 pt-4",children:e.jsx("button",{type:"submit",disabled:d,className:`px-4 py-2 ${d?"bg-blue-300":"bg-blue-600 hover:bg-blue-700"} rounded-md text-white`,children:d?"Uploading...":"Upload Video"})})]})]})};export{N as default};

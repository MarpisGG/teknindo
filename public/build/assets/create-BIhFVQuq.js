import{K as g,U as c,j as e,$ as u,a as h,S as f}from"./app-urxCfeUy.js";import{R as j}from"./index-Dz2K3sUB.js";import{S as m}from"./sweetalert2.esm.all-BQIkj5Wb.js";const w=()=>{const{flash:s}=g().props,[t,a]=c.useState({id:0,title:"",slug:"",description:""}),[l,o]=c.useState({}),[n,d]=c.useState(!1),x=r=>{const{name:i,value:p}=r.target;a({...t,[i]:p})},b=r=>{r.preventDefault(),d(!0),h.post("/admin/businesses",t).then(()=>{m.fire({title:"Success",text:"Business created successfully!",icon:"success"}),a({id:0,title:"",slug:"",description:""}),o({}),f.get("/admin/businesses")}).catch(i=>{i.response&&i.response.data.errors?o(i.response.data.errors):m.fire({title:"Error",text:"Failed to create business.",icon:"error"})}).finally(()=>d(!1))};return e.jsx("div",{className:"flex min-h-screen flex-col items-center bg-gray-100 px-4 py-10",children:e.jsxs("div",{className:"w-full max-w-2xl rounded-lg bg-white p-6 shadow-md",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Create Business"}),e.jsx(u,{href:"/admin/businesses",className:"text-blue-600 hover:underline",children:"Back to Business List"})]}),(s==null?void 0:s.success)&&e.jsx("div",{className:"mb-4 rounded bg-green-100 p-4 text-green-800",children:s.success}),(s==null?void 0:s.error)&&e.jsx("div",{className:"mb-4 rounded bg-red-100 p-4 text-red-800",children:s.error}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Title"}),e.jsx("input",{type:"text",name:"title",value:t.title,onChange:x,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring focus:ring-blue-200"}),l.title&&e.jsx("p",{className:"text-sm text-red-500",children:l.title})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Description"}),e.jsx(j,{theme:"snow",value:t.description,onChange:r=>a({...t,description:r}),modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],[{align:[]}],["link","clean"]]},style:{height:"200px",marginBottom:"48px"},className:"w-full rounded-lg focus:ring focus:ring-blue-200"}),l.description&&e.jsx("p",{className:"text-sm text-red-500",children:l.description})]}),e.jsx("button",{type:"submit",disabled:n,className:`rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 ${n?"cursor-not-allowed opacity-50":""}`,children:n?"Creating...":"Create Business"}),e.jsx(u,{href:"/admin/businesses",className:"mt-4 ml-4 rounded bg-gray-300 px-4 py-2 text-gray-800 hover:bg-gray-400",children:"Cancel"})]})]})})};export{w as default};

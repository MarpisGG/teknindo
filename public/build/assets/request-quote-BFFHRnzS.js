import{r as l,U as g,j as e,L as E,a as m}from"./app-eujjRd3E.js";import{F as Q}from"./floatingquickaction-DR8sDUGK.js";import{N as P,F as R}from"./navbar-BPw_7O6Q.js";import{S as p}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{m as s}from"./proxy-DALSUUbL.js";import"./index-CyUZ8-04.js";import"./map-pin-B2sp5ZO6.js";import"./createLucideIcon-DnzOwBgV.js";import"./move-right-BFeHW8mw.js";import"./Teknindo Awal-x7ZWJMXO.js";import"./x-uJJDSsTr.js";import"./chevron-right-BJ5OusJl.js";function B(){var y,b;const[o,j]=l.useState("product"),[w,v]=l.useState([]),[x,N]=l.useState([]),[h,q]=l.useState([]),[a,c]=l.useState(""),S=t=>{t.preventDefault();const i=new FormData(t.target);m.post("/api/quotations",i).then(n=>{v([...w,n.data]),p.fire("Success","Quotation submitted successfully!","success"),t.target.reset(),c("")}).catch(n=>{if(console.error("Full error object:",n),n.response&&n.response.status===422){const L=n.response.data.errors||{},k=Object.values(L).flat().join(`
`);p.fire("Validation Error",k||"Please check your input.","error")}else p.fire("Error","Failed to submit quotation.","error");console.error(n)})},C=()=>{m.get("/api/product-quotations").then(t=>{const i=Array.isArray(t.data)?t.data:t.data.data;N(i||[])})},F=()=>{m.get("/api/service-quotations").then(t=>{const i=Array.isArray(t.data)?t.data:t.data.data;q(i||[])})};g.useEffect(()=>{o==="product"?C():F()},[o]),g.useEffect(()=>{c("")},[o]);const d={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{staggerChildren:.1,duration:.5}}},r={hidden:{opacity:0,y:10},show:{opacity:1,y:0}},u=o==="product"?x:h,f=u.filter(t=>t.name.toLowerCase().includes(a.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx(E,{title:"Request Quotation"}),e.jsx(P,{}),e.jsx(s.div,{className:"mx-auto mt-16 max-w-6xl px-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e.jsxs(s.div,{className:"rounded-2xl bg-white p-8 shadow-lg ring-1 ring-gray-100",variants:d,initial:"hidden",animate:"show",children:[e.jsxs(s.div,{className:"mt-4 mb-12 text-center",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.7},children:[e.jsxs("h1",{className:"relative inline-block text-5xl font-extrabold text-slate-800 drop-shadow-lg",children:[e.jsx("span",{className:"relative z-10",children:"Request Quotation"}),e.jsx("span",{className:"absolute -bottom-1 -left-1 z-0 text-gray-300",children:"Request Quotation"})]}),e.jsx("p",{className:"drop- mx-auto mt-4 max-w-xl text-base text-gray-600",children:"Please fill out the form below to request a quotation for our products or services."})]}),e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs(s.div,{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",variants:d,children:[e.jsxs(s.div,{variants:r,children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-bold",children:["Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",id:"name",required:!0,className:"mt-1 w-full rounded-lg border border-gray-300 px-4 py-2 transition focus:border-yellow-400 focus:ring-2 focus:ring-yellow-300 focus:outline-none"})]}),e.jsxs(s.div,{variants:r,children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-bold",children:["Email",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",id:"email",required:!0,className:"mt-1 w-full rounded-lg border border-gray-300 px-4 py-2 transition focus:border-yellow-400 focus:ring-2 focus:ring-yellow-300 focus:outline-none"})]})]}),e.jsxs(s.div,{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",variants:d,children:[e.jsxs(s.div,{variants:r,children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-bold",children:["Phone Number",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"phone",id:"phone",required:!0,className:"mt-1 w-full rounded-lg border border-gray-300 px-4 py-2 transition focus:border-yellow-400 focus:ring-2 focus:ring-yellow-300 focus:outline-none"})]}),e.jsxs(s.div,{variants:r,children:[e.jsx("label",{htmlFor:"company",className:"block text-sm font-bold",children:"Company Name"}),e.jsx("input",{type:"text",name:"company",id:"company",className:"mt-1 w-full rounded-lg border border-gray-300 px-4 py-2 transition focus:border-yellow-400 focus:ring-2 focus:ring-yellow-300 focus:outline-none"})]})]}),e.jsxs(s.div,{variants:r,children:[e.jsx("label",{htmlFor:"country",className:"block text-sm font-bold",children:"Country"}),e.jsx("input",{type:"text",name:"country",id:"country",className:"mt-1 w-full rounded-lg border border-gray-300 px-4 py-2 transition focus:border-yellow-400 focus:ring-2 focus:ring-yellow-300 focus:outline-none"})]}),e.jsxs(s.div,{variants:r,children:[e.jsxs("label",{htmlFor:"message",className:"block text-sm font-bold",children:["Message or Requirements",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{name:"message",id:"message",rows:10,required:!0,className:"mt-1 w-full resize-none rounded-lg border border-gray-300 px-4 py-2 transition focus:border-yellow-400 focus:ring-2 focus:ring-yellow-300 focus:outline-none"})]}),e.jsxs(s.div,{variants:r,children:[e.jsx("label",{className:"block text-sm font-bold",children:"Type"}),e.jsxs("select",{value:o,onChange:t=>j(t.target.value),className:"mt-1 w-full rounded-lg border border-gray-300 px-4 py-2 transition focus:border-yellow-400 focus:ring-2 focus:ring-yellow-300 focus:outline-none",children:[e.jsx("option",{value:"product",children:"Product"}),e.jsx("option",{value:"service",children:"Service"})]})]}),e.jsxs(s.div,{variants:r,children:[e.jsxs("label",{htmlFor:"search",className:"block text-sm font-bold",children:["Select ",o==="product"?"Product":"Service",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{children:e.jsxs("div",{className:"relative mt-4",children:[e.jsx("input",{type:"text",placeholder:`Search ${o}...`,className:"w-full rounded-lg border border-gray-300 px-4 py-2 transition focus:border-yellow-400 focus:ring-2 focus:ring-yellow-300 focus:outline-none",autoComplete:"off",value:a,onChange:t=>c(t.target.value),"aria-autocomplete":"list","aria-expanded":!!a&&!u.some(t=>t.name.toLowerCase()===a.toLowerCase())}),e.jsx("input",{type:"hidden",name:"quotation_product_id",value:o==="product"?((y=x.find(t=>t.name.toLowerCase()===a.toLowerCase()))==null?void 0:y.id)??"":""}),e.jsx("input",{type:"hidden",name:"quotation_service_id",value:o==="service"?((b=h.find(t=>t.name.toLowerCase()===a.toLowerCase()))==null?void 0:b.id)??"":""}),a&&!u.some(t=>t.name.toLowerCase()===a.toLowerCase())&&e.jsxs("ul",{role:"listbox",className:"absolute z-20 mt-1 max-h-60 w-full overflow-auto rounded-md border border-gray-200 bg-white shadow-lg",children:[f.map(t=>e.jsx("li",{role:"option",className:"cursor-pointer px-4 py-2 hover:bg-yellow-50",onMouseDown:()=>c(t.name),children:t.name},t.id)),f.length===0&&e.jsxs("li",{className:"px-4 py-2 text-gray-500",children:["No ",o,"s found"]})]})]})})]}),e.jsx(s.div,{variants:r,children:e.jsx(s.button,{whileHover:{scale:1.03},whileTap:{scale:.97},type:"submit",className:"mt-4 w-full rounded-lg bg-yellow-400 px-6 py-3 text-center font-semibold text-white shadow-md transition hover:bg-yellow-500 focus:ring-2 focus:ring-yellow-300",children:"Submit Quotation Request"})})]})]})}),e.jsx(Q,{}),e.jsx(R,{})]})}export{B as default};

import{K as _,r as o,a as j,j as e}from"./app-DvoQObqN.js";import{F as b}from"./floatingquickaction-pH8JOsuH.js";import{N as g,F as f}from"./navbar-B1tDCsVS.js";import{B as y,M as F}from"./map-pin-CJa7bal8.js";import{L as k}from"./laptop-minimal-BDAU4JWj.js";import"./index-C8GzC2Hg.js";import"./createLucideIcon-CyC0Yr31.js";import"./move-right-5tMtsTVr.js";import"./Teknindo Awal-x7ZWJMXO.js";import"./x-BMuqeLrP.js";import"./chevron-right-B05J7WvL.js";function P(){const{props:N}=_(),m=N.slug,[l,v]=o.useState(null),[w,C]=o.useState(!0),[t,i]=o.useState({}),[x,p]=o.useState(""),[a,c]=o.useState({name:"",email:"",phone:"",education:"",address:"",expected_salary:"",start_date:"",resume:null}),d=r=>{const{name:s,value:n}=r.target;c({...a,[s]:n})},u=r=>{var s;c({...a,resume:((s=r.target.files)==null?void 0:s[0])||null})},S=async r=>{r.preventDefault(),i({}),p("");const s=new FormData;if(!l){i({general:["Job information not available"]});return}if(!l.id){i({general:["Job ID is missing"]});return}s.append("job_id",l.id.toString()),s.append("name",a.name),s.append("email",a.email),s.append("phone",a.phone),s.append("education",a.education),s.append("address",a.address),s.append("expected_salary",a.expected_salary),s.append("start_date",a.start_date),a.resume&&s.append("resume",a.resume);try{const n=await j.post("/applicants",s,{headers:{"Content-Type":"multipart/form-data"}});p("Your application was submitted successfully."),c({name:"",email:"",phone:"",education:"",address:"",expected_salary:"",start_date:"",resume:null});const h=document.querySelector('input[type="file"]');h&&(h.value="")}catch(n){console.error("Submission error:",n),n.response&&n.response.status===422?i(n.response.data.errors||{}):n.response?i({general:[n.response.data.message||"An error occurred"]}):i({general:["Network error. Please try again."]})}};return o.useEffect(()=>{j.get(`/api/jobs/${m}`).then(r=>v(r.data)).catch(r=>console.error(r)).finally(()=>C(!1))},[m]),w?e.jsx("div",{className:"pt-20 pb-10",children:e.jsxs("div",{className:"mx-auto max-w-6xl animate-pulse px-4",children:[e.jsx("div",{className:"mx-auto mb-6 h-8 w-1/2 rounded bg-gray-200"}),e.jsx("div",{className:"mb-4 grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-4",children:Array.from({length:4}).map((r,s)=>e.jsx("div",{className:"h-6 rounded bg-gray-200"},s))}),e.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((r,s)=>e.jsx("div",{className:"h-4 rounded bg-gray-200"},s))}),e.jsxs("div",{className:"mt-10 grid grid-cols-1 gap-5 lg:grid-cols-2",children:[Array.from({length:6}).map((r,s)=>e.jsx("div",{className:"h-10 rounded bg-gray-200"},s)),e.jsx("div",{className:"h-12 rounded bg-gray-200 lg:col-span-2"})]})]})}):l?e.jsxs(e.Fragment,{children:[e.jsx(g,{}),e.jsx("div",{className:"pt-20 pb-10",children:e.jsxs("div",{className:"mx-auto max-w-6xl px-4",children:[e.jsx("nav",{className:"emd:block mb-6 hidden text-sm","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"flex flex-wrap items-center space-x-2",children:[e.jsxs("li",{children:[e.jsx("a",{href:"/",className:"hover:underline",children:"Home"}),e.jsx("span",{className:"mx-1",children:" > "})]}),e.jsxs("li",{children:[e.jsx("a",{href:"/career",className:"hover:underline",children:"Career"}),e.jsx("span",{className:"mx-1",children:" > "})]}),e.jsxs("li",{children:[e.jsx("a",{href:"/career/jobs",className:"hover:underline",children:"Jobs"}),e.jsx("span",{className:"mx-1",children:" > "})]}),e.jsx("li",{className:"max-w-xs truncate font-semibold",title:l.title,children:l.title})]})}),e.jsx("h1",{className:"mb-4 text-center text-4xl font-bold text-[#FCC200]",children:l.title}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 gap-4 bg-white p-4 sm:grid-cols-2 md:flex md:flex-wrap md:items-center md:justify-center md:gap-8",children:[e.jsxs("div",{className:"text-md flex items-center text-gray-700",children:[e.jsx(y,{className:"mr-2 h-6 w-6"}),e.jsx("span",{children:l.division})]}),e.jsxs("div",{className:"text-md flex items-center text-gray-700",children:[e.jsx(F,{className:"mr-2 h-6 w-6"}),e.jsx("span",{children:l.location})]}),e.jsxs("div",{className:"text-md flex items-center text-gray-700",children:[e.jsx(k,{className:"mr-2 h-6 w-6"}),e.jsx("span",{children:l.type})]})]}),e.jsx("hr",{className:"my-4 border-gray-300"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"mb-3 text-2xl font-bold text-gray-900",children:"Job Description"}),e.jsx("div",{className:"jobs prose prose-ul:list-disc prose-ol:list-decimal max-w-none leading-relaxed text-gray-700",dangerouslySetInnerHTML:{__html:l.job_desc}})]}),e.jsx("hr",{className:"my-4 border-gray-300"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"jobs mb-2 text-2xl font-semibold text-gray-800",children:"Requirements"}),e.jsx("div",{className:"jobs prose max-w-none text-gray-700",dangerouslySetInnerHTML:{__html:l.requirements}})]}),e.jsx("hr",{className:"my-4 border-gray-300"}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"jobs mb-2 text-2xl font-semibold text-gray-800",children:"Benefits"}),e.jsx("div",{className:"jobs prose max-w-none text-gray-700",dangerouslySetInnerHTML:{__html:l.benefit}})]}),e.jsxs("div",{className:"mt-12 border-t pt-10",children:[e.jsx("h2",{className:"mb-4 text-2xl font-bold text-gray-800",children:"Apply Now"}),e.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 gap-5 lg:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{children:e.jsxs("p",{className:"mb-1 block text-sm font-bold",children:["Full Name",e.jsx("span",{className:"text-red-500",children:"*"})]})}),e.jsx("input",{type:"text",name:"name",value:a.name,onChange:d,className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:ring-[#FCC200]",required:!0}),t.name&&e.jsx("span",{className:"mt-1 text-sm text-red-500",children:t.name[0]})]}),e.jsxs("div",{children:[e.jsx("label",{children:e.jsxs("p",{className:"mb-1 block text-sm font-bold",children:["Email",e.jsx("span",{className:"text-red-500",children:"*"})]})}),e.jsx("input",{type:"email",name:"email",value:a.email,onChange:d,className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:ring-[#FCC200]",required:!0}),t.email&&e.jsx("span",{className:"mt-1 text-sm text-red-500",children:t.email[0]})]}),e.jsxs("div",{children:[e.jsx("label",{children:e.jsxs("p",{className:"mb-1 block text-sm font-bold",children:["Phone",e.jsx("span",{className:"text-red-500",children:"*"})]})}),e.jsx("input",{type:"text",name:"phone",value:a.phone,onChange:d,className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:ring-[#FCC200]",required:!0}),t.phone&&e.jsx("span",{className:"mt-1 text-sm text-red-500",children:t.phone[0]})]}),e.jsxs("div",{children:[e.jsx("label",{children:e.jsxs("p",{className:"mb-1 block text-sm font-bold",children:["Education",e.jsx("span",{className:"text-red-500",children:"*"})]})}),e.jsxs("select",{name:"education",value:a.education,onChange:d,className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:ring-[#FCC200]",required:!0,children:[e.jsx("option",{value:"",children:"Select Education"}),e.jsx("option",{value:"SMA/SMK/Sederajat",children:"SMA/SMK/Sederajat"}),e.jsx("option",{value:"D3/D4",children:"D3/D4"}),e.jsx("option",{value:"S1",children:"S1"}),e.jsx("option",{value:"S2",children:"S2"})]}),t.education&&e.jsx("span",{className:"mt-1 text-sm text-red-500",children:t.education[0]})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("label",{children:e.jsxs("p",{className:"mb-1 block text-sm font-bold",children:["Address",e.jsx("span",{className:"text-red-500",children:"*"})]})}),e.jsx("textarea",{name:"address",value:a.address,onChange:d,className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:ring-[#FCC200]",required:!0}),t.address&&e.jsx("span",{className:"mt-1 text-sm text-red-500",children:t.address[0]})]}),e.jsxs("div",{children:[e.jsx("label",{children:e.jsxs("p",{className:"mb-1 block text-sm font-bold",children:["Expected Salary",e.jsx("span",{className:"text-red-500",children:"*"})]})}),e.jsx("input",{type:"number",name:"expected_salary",placeholder:"Ex : 5000000",value:a.expected_salary,onChange:d,className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:ring-[#FCC200] [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none",required:!0,min:"0",step:"any",style:{MozAppearance:"textfield"}}),t.expected_salary&&e.jsx("span",{className:"mt-1 text-sm text-red-500",children:t.expected_salary[0]})]}),e.jsxs("div",{children:[e.jsx("label",{children:e.jsxs("p",{className:"mb-1 block text-sm font-bold",children:["Start Date",e.jsx("span",{className:"text-red-500",children:"*"})]})}),e.jsx("input",{type:"date",name:"start_date",value:a.start_date,onChange:d,className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:ring-[#FCC200]",required:!0}),t.start_date&&e.jsx("span",{className:"mt-1 text-sm text-red-500",children:t.start_date[0]})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("label",{children:e.jsxs("p",{className:"mb-1 block text-sm font-bold",children:["Upload your resume",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(PDF, DOC, DOCX only)"})]})}),e.jsx("div",{className:"w-full sm:w-3/4 md:w-1/2",children:e.jsxs("label",{htmlFor:"resume-upload",className:"flex cursor-pointer flex-col items-center justify-center rounded-md border-2 border-dashed border-gray-300 bg-white px-3 py-6 transition hover:border-[#FCC200]",style:{minHeight:"110px"},onDragOver:r=>r.preventDefault(),onDrop:r=>{r.preventDefault(),r.dataTransfer.files&&r.dataTransfer.files.length>0&&u({target:{files:r.dataTransfer.files,name:"resume"}})},children:[e.jsx("input",{id:"resume-upload",type:"file",name:"resume",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:u,className:"hidden",required:!0}),a.resume?e.jsx("span",{className:"truncate text-sm text-gray-700",children:a.resume.name}):e.jsxs("span",{className:"text-sm text-gray-400",children:["Drag & drop your resume here, or ",e.jsx("span",{className:"text-[#FCC200] underline",children:"browse"})]})]})}),t.resume&&e.jsx("span",{className:"mt-1 text-sm text-red-500",children:t.resume[0]})]}),e.jsxs("div",{className:"lg:col-span-2",children:[x&&e.jsx("div",{className:"mb-4 w-full rounded bg-green-100 p-4 text-green-700",children:x}),e.jsx("button",{type:"submit",className:"w-full rounded bg-[#FCC200] px-6 py-3 font-semibold text-white transition hover:bg-yellow-500",children:"Submit Application"})]})]})]})]})}),e.jsx(b,{}),e.jsx(f,{})]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{}),e.jsx("div",{className:"pt-20 pb-10",children:e.jsx("div",{className:"mx-auto max-w-3xl px-4",children:e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-10 text-center shadow-sm",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-yellow-50",children:e.jsx(y,{className:"h-8 w-8 text-[#FCC200]"})}),e.jsx("h1",{className:"mb-2 text-2xl font-bold text-gray-900",children:"Job not found"}),e.jsx("p",{className:"mb-6 text-gray-600",children:"We couldn’t find the job you’re looking for. It may have been filled or removed."}),e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 sm:flex-row",children:[e.jsx("a",{href:"/career/jobs",className:"inline-flex items-center rounded-md bg-[#FCC200] px-5 py-2.5 font-semibold text-white transition hover:bg-yellow-500",children:"Browse jobs"}),e.jsx("button",{onClick:()=>window.history.back(),className:"inline-flex items-center rounded-md border border-gray-300 px-5 py-2.5 text-gray-700 transition hover:bg-gray-50",children:"Go back"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center rounded-md border border-gray-300 px-5 py-2.5 text-gray-700 transition hover:bg-gray-50",children:"Retry"})]})]})})}),e.jsx(b,{}),e.jsx(f,{})]})}export{P as default};

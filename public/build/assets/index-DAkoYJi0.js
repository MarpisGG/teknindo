import{U as n,K as j,j as e,$ as o,a as w}from"./app-eujjRd3E.js";import{A as y}from"./app-layout-CzrSvg4p.js";import{S as c}from"./sweetalert2.esm.all-BQIkj5Wb.js";import"./button-7djvlC_m.js";import"./utils-jAU0Cazi.js";import"./index-CTqnA2uk.js";import"./index-C1hkRcc-.js";import"./index-C8DxvRZU.js";import"./x-uJJDSsTr.js";import"./createLucideIcon-DnzOwBgV.js";import"./message-circle-Bh7x8iKR.js";import"./mail-BXazH--r.js";import"./map-pin-B2sp5ZO6.js";import"./star-BowgPiYH.js";import"./chevron-right-BJ5OusJl.js";const J=()=>{const[i,x]=n.useState(""),{jobs:l,flash:g}=j().props,h=(l==null?void 0:l.data)||[],m=t=>{c.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then(s=>{s.isConfirmed&&w.delete(`/jobs/${t}`).then(()=>{c.fire("Deleted!","The job has been deleted.","success"),window.location.reload()}).catch(a=>{c.fire("Error!","Failed to delete the job.","error"),console.error(a)})})},p=(t,s)=>{const[a,u]=n.useState(t);return n.useEffect(()=>{const f=setTimeout(()=>u(t),s);return()=>clearTimeout(f)},[t,s]),a},b=t=>{x(t.target.value.toLowerCase())},r=p(i,300),d=h.filter(t=>t.title.toLowerCase().includes(r)||t.type.toLowerCase().includes(r)||t.location.toLowerCase().includes(r)||t.division.toLowerCase().includes(r));return e.jsx(y,{children:e.jsxs("div",{className:"mx-auto max-w-6xl p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 md:text-3xl",children:"Job Management"}),e.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:items-center",children:[e.jsx("input",{type:"text",onChange:b,placeholder:"Search jobs...",className:"w-full rounded-lg border border-black px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none sm:w-auto"}),e.jsx(o,{href:"/admin/dashboard",className:"rounded-lg border border-blue-600 px-4 py-2 text-center text-sm text-blue-600 hover:text-blue-800 sm:text-base",children:"← Back to Dashboard"}),e.jsx(o,{href:"/admin/jobs/create",className:"rounded-lg bg-blue-600 px-4 py-2 text-center text-sm text-white shadow hover:bg-blue-700 sm:text-base",children:"+ Create job"})]})]}),e.jsx("div",{className:"overflow-x-auto rounded-lg border bg-white shadow",children:e.jsxs("table",{className:"min-w-full text-sm text-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 text-left",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-b px-4 py-3",children:"Title"}),e.jsx("th",{className:"border-b px-4 py-3",children:"Division"}),e.jsx("th",{className:"border-b px-4 py-3",children:"Location"}),e.jsx("th",{className:"border-b px-4 py-3",children:"Type"}),e.jsx("th",{className:"border-b px-4 py-3 text-center",children:"Applicants"}),e.jsx("th",{className:"border-b px-4 py-3 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:d.length>0?d.map((t,s)=>e.jsxs("tr",{className:s%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"border-b px-4 py-2",children:t.title}),e.jsx("td",{className:"border-b px-4 py-2",children:t.division}),e.jsx("td",{className:"border-b px-4 py-2",children:t.location}),e.jsx("td",{className:"border-b px-4 py-2",children:t.type}),e.jsx("td",{className:"border-b px-4 py-2 text-center",children:t.applicants_count??0}),e.jsxs("td",{className:"space-x-2 border-b px-4 py-2 text-center whitespace-nowrap",children:[e.jsx(o,{href:`/admin/jobs/${t.id}/edit`,className:"inline-block rounded bg-yellow-400 px-3 py-1 text-white hover:bg-yellow-500",children:"Edit"}),e.jsx(o,{href:`/admin/jobs/${t.slug}/`,className:"inline-block rounded bg-blue-500 px-3 py-1 text-white hover:bg-blue-600",children:"Show"}),e.jsx("button",{onClick:()=>m(t.id),className:"inline-block rounded bg-red-500 px-3 py-1 text-white hover:bg-red-600",children:"Delete"})]})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:"No jobs found."})})})]})})]})})};export{J as default};
